# ICE Activity Tracker

Live-track **U.S. Immigration and Customs Enforcement (ICE)** activity: enforcement news, ERO field offices, and a map of recent reports.

## What it does

- **Live news feed** from ICE.gov RSS: Enforcement & Removal and Breaking News (refreshed every 5 minutes).
- **Interactive US map**: blue markers = ERO field offices; red markers = recent enforcement news (placed by state).
- **Filters**: by state and by source (Enforcement & Removal vs Breaking News).
- **Links** to official ICE news releases and field office info.

## Data sources

- [ICE News – Enforcement and Removal](https://www.ice.gov/rss/news/356)
- [ICE Breaking News](https://www.ice.gov/rss/ice-breaking-news)
- **State-specific RSS** for CA, TX, FL, NY, AZ, GA, NC, NJ, MA, MN (more granular updates)
- ERO field office locations (from [ICE Field Offices](https://www.ice.gov/contact/field-offices))
- **Community reports** — optional pins you add in the app (stored in your browser only)

*Note: The feed is not real-time; it reflects ICE’s published press releases.*

## Ways to get more live updates

1. **Faster refresh** — In the app, set the dropdown to **1 min** so the RSS is polled every minute.
2. **@ICEgov** (X/Twitter) — Official ICE announcements; often mirrors press releases.
3. **Local immigrant rights orgs** — RAICES, ACLU, and local rapid-response networks often post alerts and hotline numbers.
4. **News alerts** — Set up Google News or a news app alert for “ICE” + your city or state.
5. **Community reports** — Use **+ Report** in the app to log what you see; data stays in your browser. For shared community reports you’d need a backend (e.g. Supabase) and moderation.

## Run locally

```bash
npm install
npm run dev
```

Open [http://localhost:3000](http://localhost:3000).

## Build

```bash
npm run build
npm start
```

## Pushing to GitHub (AvaTar-ArTs/ice-tracker)

Git credentials are loaded from **`~/.env.d/github.env`** (not stored in the repo). To push:

```bash
./scripts/push-avatararts.sh
```

Or manually: `source ~/.env.d/github.env` then push using `GITHUB_TOKEN_AVATARARTS` in the remote URL. The script uses the AvaTar-ArTs token for `https://github.com/AvaTar-ArTs/ice-tracker.git`.

## Git AI (this project)

This repo uses [Git AI](https://usegitai.com/) to track which lines were generated by AI (Cursor, etc.). Install once per machine: `curl -sSL https://usegitai.com/install.sh | bash`. Cursor hooks record checkpoints on agent edits.

- **`git-ai status`** — working tree: you vs AI %, recent checkpoints.
- **`git-ai blame <file>`** — blame with AI attribution (tool/model per line).
- **Prompt analysis** — In Claude Code add `~/.git-ai/skills` then use `/git-ai:prompt-analysis` to grade/categorize prompts, compare to team, or analyze trends. See [git-ai-xeo-links.md](git-ai-xeo-links.md) for links (prompt-analysis, xEo skills repo).

**What to run here:** [docs/GIT_AI_RUN_ON_ICE_TRACKER.md](docs/GIT_AI_RUN_ON_ICE_TRACKER.md) — commands already in place, optional CI workflow for squash-merge, release stats.  
Details: [docs/GIT_AI_RESEARCH.md](docs/GIT_AI_RESEARCH.md). **Docs index (what stays here vs ~/.git-ai):** [docs/DOCS_INDEX.md](docs/DOCS_INDEX.md). Push and credentials: same as above (`./scripts/push-avatararts.sh`, `~/.env.d`).

Metadata, sitemap, robots, and structured data are set in the app (see `app/layout.tsx`, `app/lib/seo.ts`). Optional: set `NEXT_PUBLIC_SITE_URL` and `NEXT_PUBLIC_GA_ID` in `.env.local` (see `.env.example`).

## Stack

- **Next.js 14** (App Router), **React 18**, **TypeScript**
- **Leaflet** + **react-leaflet** for the map (Carto Dark basemap)
- **rss-parser** for ICE RSS feeds (server-side API route)

## Variants

| Dir  | Stack        | Highlights                                              |
|------|--------------|---------------------------------------------------------|
| **v2** | Next 14      | URL state, API cache, security headers, shared types   |
| **v3** | Next 14      | v2 + Know Your Rights, hotlines, server AI (gated)      |
| **v4** | Next 14      | v3 feature set + in-browser AI (Transformers.js)       |
| **v5** | Express + vanilla JS | Same features as v4; no React; AI via esm.sh       |
| **v6** | Express + vanilla JS | Enhanced: frost theme, search, timeline, export CSV, SSE, PWA, map clustering, focus mode — see [v6/README.md](v6/README.md) |
